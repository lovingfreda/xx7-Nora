<template>
  <div class="page">
    <div class="navbar">
      <div class="navbar-bg"></div>
      <div class="navbar-inner sliding">
        <div class="left">
          <a href="#" class="back link">
            <i class="icon icon-back"></i>
            <span class="if-not-md">Back</span>
          </a>
        </div>
        <div class="title">${user.firstName} ${user.lastName}</div>
      </div>
    </div>
    <div class="page-content">
      <div class="block block-strong">
        ${user.about}
      </div>

      <div class="list links-list">
        <ul>
          ${products.map((link) => $h`
            <li><a class="popup-open" target="_self" href="/request-and-load/links/${link.id}/">${link.name} (${link.with_links})</a></li>
       <!-- <li><a href="#${link.id}" class="popup-open" data-popup="#my-popup-${link.id}">${link.name}</a></li -->
          `)}
        </ul>
      </div>
<!-- 
      <div class="list links-list">
        <ul>
          <li>
            <a href="#" class="popup-open" data-popup="#my-popup">Dynamic (Component) Route</a>
          </li>
        </ul>
      </div>
 -->
    </div>
  </div>
</template>
<script>
  export default (props) => {
    const user = props.catg;

// Important !!! a> we set this var in Route   b> MUST using JSON.parse()
        // New veresion using 'success'=1 and 'products'=xxxxxxx, so we using new statement
//      products: JSON.parse(this.$route.context.products),                 // Important !!! ********************************
//      products: JSON.parse(this.$route.context.products)['products'],     // Important !!! ********************************
    var products = JSON.parse(props.prdt)['products'];
    console.log("Get LinkCategories succeed! Result List : {" + products[0]["name"] + "...}");  // Debug..

    return $render;
  }
</script>
